<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3"/>
<title>muSE: Port I/O</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">muSE
   &#160;<span id="projectnumber">r771</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Port I/O</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac0de979e088f12ec3fdecd86835f9719"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#gac0de979e088f12ec3fdecd86835f9719">fn_port_p</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gac0de979e088f12ec3fdecd86835f9719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09ff8c52efcf39926bf81da6983e22e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#ga09ff8c52efcf39926bf81da6983e22e0">fn_close</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga09ff8c52efcf39926bf81da6983e22e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73d6c9df7876a3f059731a2f481ac17b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#ga73d6c9df7876a3f059731a2f481ac17b">fn_eof_p</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga73d6c9df7876a3f059731a2f481ac17b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga280b35bbfa3e908aacf5825d7f1eeab3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#ga280b35bbfa3e908aacf5825d7f1eeab3">fn_print</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga280b35bbfa3e908aacf5825d7f1eeab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc99cf562f996e26e47d055b5c456222"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#gadc99cf562f996e26e47d055b5c456222">fn_write</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gadc99cf562f996e26e47d055b5c456222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21e62bebf5c63eb51fabfb4121e772b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#ga21e62bebf5c63eb51fabfb4121e772b2">fn_read</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga21e62bebf5c63eb51fabfb4121e772b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacac38ca217fad27de091077027dadb96"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#gacac38ca217fad27de091077027dadb96">fn_read_line</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gacac38ca217fad27de091077027dadb96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d49269e863d606d17993e6bd97fda68"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#ga8d49269e863d606d17993e6bd97fda68">fn_flush</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga8d49269e863d606d17993e6bd97fda68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37e83b916a8efe013243af6058b9a953"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#ga37e83b916a8efe013243af6058b9a953">fn_mickey</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga37e83b916a8efe013243af6058b9a953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f055caa8cb431a24bb03d8fdb7e57c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#ga9f055caa8cb431a24bb03d8fdb7e57c2">fn_load</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga9f055caa8cb431a24bb03d8fdb7e57c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b8496f9502ef9ddedc0b1b5678e4902"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#ga0b8496f9502ef9ddedc0b1b5678e4902">fn_file_has_attached_code_p</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga0b8496f9502ef9ddedc0b1b5678e4902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e609c18047e7fcd3bfb12bf012c5145"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#ga1e609c18047e7fcd3bfb12bf012c5145">fn_write_xml</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga1e609c18047e7fcd3bfb12bf012c5145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43e20503d130213a336ab78e7d64f28d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#ga43e20503d130213a336ab78e7d64f28d">fn_read_xml</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga43e20503d130213a336ab78e7d64f28d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19d35625cad23d5f1ccf5cfbc3fce689"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#ga19d35625cad23d5f1ccf5cfbc3fce689">fn_xml</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:ga19d35625cad23d5f1ccf5cfbc3fce689"><td class="mdescLeft">&#160;</td><td class="mdescRight">{xml}  <a href="#ga19d35625cad23d5f1ccf5cfbc3fce689"></a><br/></td></tr>
<tr class="separator:ga19d35625cad23d5f1ccf5cfbc3fce689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad279620db34a8d1055531730840159ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#gad279620db34a8d1055531730840159ea">fn_write_json</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gad279620db34a8d1055531730840159ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabf61de100e833fe76ac7029b1f6d0230"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#gabf61de100e833fe76ac7029b1f6d0230">fn_read_json</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gabf61de100e833fe76ac7029b1f6d0230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac158bedb62deba8a09edfa61937fb246"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#gac158bedb62deba8a09edfa61937fb246">fn_json</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:gac158bedb62deba8a09edfa61937fb246"><td class="mdescLeft">&#160;</td><td class="mdescRight">{json}  <a href="#gac158bedb62deba8a09edfa61937fb246"></a><br/></td></tr>
<tr class="separator:gac158bedb62deba8a09edfa61937fb246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46ae5db00ade2045962984a4ae66a639"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#ga46ae5db00ade2045962984a4ae66a639">fn_exit</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga46ae5db00ade2045962984a4ae66a639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa458a4e52ed08e34c1f14bddecfde141"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa458a4e52ed08e34c1f14bddecfde141"></a>
<a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#gaa458a4e52ed08e34c1f14bddecfde141">fn_tab_syntax</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:gaa458a4e52ed08e34c1f14bddecfde141"><td class="mdescLeft">&#160;</td><td class="mdescRight">{tab-syntax} Changes the syntax of the currently reading port to the EZSCHEME syntax. <br/></td></tr>
<tr class="separator:gaa458a4e52ed08e34c1f14bddecfde141"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1690531de6770961399e2cd589a1f1d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae1690531de6770961399e2cd589a1f1d"></a>
<a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PortIO.html#gae1690531de6770961399e2cd589a1f1d">fn_scheme_syntax</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:gae1690531de6770961399e2cd589a1f1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">{scheme-syntax} Changes the syntax of the currently reading port to the normal syntax. <br/></td></tr>
<tr class="separator:gae1690531de6770961399e2cd589a1f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gac0de979e088f12ec3fdecd86835f9719"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_port_p </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(port? p) </div>
</div><!-- fragment --><p> Returns p if it is a port indeed, and () otherwise. </p>

<p>References <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>.</p>

</div>
</div>
<a class="anchor" id="ga09ff8c52efcf39926bf81da6983e22e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(close port) </div>
</div><!-- fragment --><p> Closes the given port. </p>

<p>References <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, and <a class="el" href="group__Ports.html#gaab59b1153bba5e36abf3416c35f52357">port_close()</a>.</p>

</div>
</div>
<a class="anchor" id="ga73d6c9df7876a3f059731a2f481ac17b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_eof_p </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(eof? port) </div>
</div><!-- fragment --><p> Returns T if the port has reached end of stream. Returns () if it hasn't reached end of stream. </p>

<p>References <a class="el" href="muse__opcodes_8h.html#ae0eb8ffce948bfd35c0d852d43469d5b">_t</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, and <a class="el" href="group__Ports.html#ga550b00cbbe54e9d8d86593f2756258be">port_eof()</a>.</p>

</div>
</div>
<a class="anchor" id="ga280b35bbfa3e908aacf5825d7f1eeab3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(print ...expressions...) </div>
</div><!-- fragment --><p> Prints each expression to the standard output in sequence. Strings are printed without the quotes, so <code>print</code> can be used to print out messages for the user. </p>

</div>
</div>
<a class="anchor" id="gadc99cf562f996e26e47d055b5c456222"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(write ...expressions...) </div>
</div><!-- fragment --><p> Writes the s-expressions to the standard output in sequence. Tries to write an s-expression such that it can be read back in using <a class="el" href="group__PortIO.html#ga21e62bebf5c63eb51fabfb4121e772b2">read</a>, meaning strings will be enclosed in double quotes. </p>

<p>References <a class="el" href="group__MuseAPI.html#gaad86c760371654433c53c164ac12214a">muse_pwrite()</a>.</p>

</div>
</div>
<a class="anchor" id="ga21e62bebf5c63eb51fabfb4121e772b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(read [port]) </div>
</div><!-- fragment --><p>Reads a single sexpr from the standard input stream.</p>
<p>Supports <a class="el" href="group__CoreLanguage.html#gafa9459789c0e0f6f8b246aee3d73a536">the</a> </p>

<p>References <a class="el" href="group__PortIO.html#ga21e62bebf5c63eb51fabfb4121e772b2">fn_read()</a>, <a class="el" href="group__Processes__impl.html#gae1d9b98957a7cd29cb28b74deab5a41a">muse_add_recent_item()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, and <a class="el" href="group__MuseAPI.html#ga5f798991587017096d24ae10a70e553e">muse_pread()</a>.</p>

<p>Referenced by <a class="el" href="group__PortIO.html#ga21e62bebf5c63eb51fabfb4121e772b2">fn_read()</a>.</p>

</div>
</div>
<a class="anchor" id="gacac38ca217fad27de091077027dadb96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_read_line </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(read-line [port]) </div>
</div><!-- fragment --><p>Reads a single line from the given port or the standard input stream and returns it as a single string.</p>
<p>Supports <a class="el" href="group__CoreLanguage.html#gafa9459789c0e0f6f8b246aee3d73a536">the</a> </p>

<p>References <a class="el" href="muse__utils_8c.html#a31d6f2fcd005f8fe81b5daee9223725d">buffer_alloc()</a>, <a class="el" href="muse__utils_8c.html#af075a6de5c39e3a750ba0f710c139a7f">buffer_free()</a>, <a class="el" href="muse__utils_8c.html#a0df01e5f3df0eba4f48049af975d938b">buffer_length()</a>, <a class="el" href="muse__utils_8c.html#a8315b415d515d66d541a8c632fef09a0">buffer_putc()</a>, <a class="el" href="muse__utils_8c.html#a85d4aff180bc5c9632a3ac7fd8daf909">buffer_to_string()</a>, <a class="el" href="group__PortIO.html#gacac38ca217fad27de091077027dadb96">fn_read_line()</a>, <a class="el" href="group__Processes__impl.html#gae1d9b98957a7cd29cb28b74deab5a41a">muse_add_recent_item()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, <a class="el" href="group__Ports.html#ga550b00cbbe54e9d8d86593f2756258be">port_eof()</a>, and <a class="el" href="group__Ports.html#gac01d77feaaf4cc858717850b25fb0f60">port_getchar()</a>.</p>

<p>Referenced by <a class="el" href="group__PortIO.html#gacac38ca217fad27de091077027dadb96">fn_read_line()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8d49269e863d606d17993e6bd97fda68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_flush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(flush [port]) </div>
</div><!-- fragment --><p> Flushes the accumulated output on the given port. If no port is given, flushes stdout. </p>

<p>References <a class="el" href="group__Ports.html#gad08d8e10a2d6db19b1316989bd9ff8dd">port_flush()</a>.</p>

</div>
</div>
<a class="anchor" id="ga37e83b916a8efe013243af6058b9a953"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_mickey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(mickey inport outport) </div>
</div><!-- fragment --><p>Reads in the stream from the input port, expands all mickey expressions and outputs to the output port.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__MuseAPI.html#gada9c5fb3bac8db6adc1cfd1bec2379b6" title="Processes mickey streams from input port to output port.">muse_mickey</a> </dd></dl>

<p>References <a class="el" href="group__MuseAPI.html#gada9c5fb3bac8db6adc1cfd1bec2379b6">muse_mickey()</a>, and <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>.</p>

</div>
</div>
<a class="anchor" id="ga9f055caa8cb431a24bb03d8fdb7e57c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(load <span class="stringliteral">&quot;file.lisp&quot;</span>) </div>
</div><!-- fragment --> <div class="fragment"><div class="line">(load port) </div>
</div><!-- fragment --> <div class="fragment"><div class="line">(load #nnn[...bytes...]) </div>
</div><!-- fragment --><p>Reads and evaluates all expressions in the given file and returns the value of the last expression. You can pass it either a filename, or a port or a byte array. If you pass a filename, the file will be read in and loaded. If you pass a port, the port will be read in and loaded until you reach end-of-port. If you pass a byte array, it will be loaded just as though it were the byte contents of some file.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">error:load</td><td>Handler format:<div class="fragment"><div class="line">(fn (resume <span class="stringliteral">&#39;error:load path) ...) </span></div>
</div><!-- fragment --> If the file is not found or could not be opened for some reason, this exception is raised. Resuming the exception with another file name will cause <a class="el" href="group__PortIO.html#ga9f055caa8cb431a24bb03d8fdb7e57c2">load</a> to load that file instead. This exception is similar to <code>error:open-file</code> but is named differently because it deals with code as opposed to data. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__PortIO.html#ga9f055caa8cb431a24bb03d8fdb7e57c2">fn_load()</a>, <a class="el" href="group__ByteArray.html#ga9e4535deef369d6d89e36e375e4ecf3a">fn_with_bytes_as_port()</a>, <a class="el" href="group__MuseAPI.html#ga3fb1c2fb4d11dbe8e5ec25fbc6054afd">muse_fopen()</a>, <a class="el" href="group__MuseAPI.html#ga758ac75e581c6ac32b06e61741fa22ca">muse_functional_object_data()</a>, <a class="el" href="group__MuseAPI.html#gae5359870c499ef3c17f7553600314127">muse_load()</a>, <a class="el" href="group__MuseAPI.html#gafa6f83554ab1865d2df3bb642b399b66">muse_message()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, <a class="el" href="group__MuseAPI.html#ga57e552c1e259fdf9c2417f8b637111ab">muse_pload()</a>, <a class="el" href="group__MuseAPI.html#ga8665ccb146ded03de15f3cdcdb241f91">muse_port()</a>, <a class="el" href="group__MuseAPI.html#ga16eb6fecef6e1e55330539875ee5d40a">muse_raise_error()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727a13f23f3e957dcb9731ca0744354ee6b9">MUSE_TEXT_CELL</a>, and <a class="el" href="group__MuseAPI.html#ga8c421383e70526a31fa38072b376d5fa">muSEexec_check()</a>.</p>

<p>Referenced by <a class="el" href="group__PortIO.html#ga9f055caa8cb431a24bb03d8fdb7e57c2">fn_load()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0b8496f9502ef9ddedc0b1b5678e4902"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_file_has_attached_code_p </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(file-has-attached-code? path) </div>
</div><!-- fragment --><p>Some files such as exes, jpg and png can have muSE code attached at the end for special purposes. This function looks at the contents of the file and determines if the file has any attached code. If it does, the attached code can be loaded using <a class="el" href="group__PortIO.html#ga9f055caa8cb431a24bb03d8fdb7e57c2">load</a>. </p>

<p>References <a class="el" href="group__MuseAPI.html#ga3fb1c2fb4d11dbe8e5ec25fbc6054afd">muse_fopen()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a03e5f9ac0be4057bce09e211e973a498">MUSE_T</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727a13f23f3e957dcb9731ca0744354ee6b9">MUSE_TEXT_CELL</a>, <a class="el" href="group__MuseAPI.html#gad343b2db1bbba0f95f875e2c3986afd9">muse_text_contents()</a>, and <a class="el" href="group__MuseAPI.html#ga8c421383e70526a31fa38072b376d5fa">muSEexec_check()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1e609c18047e7fcd3bfb12bf012c5145"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_write_xml </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(write-xml [port] xml-node [object] [flags]) </div>
</div><!-- fragment --><p> Converts an s-expr representation of an XML node (a tag, not an arbitrary node such as attribute nodes) into XML form and writes it out to the given port. The XML node representation is as follows - </p>
<div class="fragment"><div class="line">(tag ((attr1 . <span class="stringliteral">&quot;value1&quot;</span>) (attr2 . <span class="stringliteral">&quot;value2&quot;</span>) ...)</div>
<div class="line">   body1</div>
<div class="line">   body2</div>
<div class="line">   ...</div>
<div class="line">   )</div>
</div><!-- fragment --><ul>
<li>The xml-node can be a list of the form shown above or a function of a single object that yields such a list.</li>
<li>If xml-node is a function, it is applied to the object passed as the next argument, or nil if no such argument has been given.</li>
<li>If the function yields another function, that function is applied to nil to get the xml tree to write out. This is done as many times as necessary to get at the xml tree. Doing it this way allows functions to yield constant xml expressions using inline xml syntax.</li>
</ul>
<p>The flags is a list of symbols that indicate features to use. The only one feature you can indicate is 'with-header which will cause </p>
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
</pre><p> to be written out before the node is written out. </p>

<p>References <a class="el" href="group__MuseAPI.html#ga2044bdd35a0807600b7f20fb0b40a35d">muse_find_list_element()</a>, <a class="el" href="group__MuseAPI.html#ga758ac75e581c6ac32b06e61741fa22ca">muse_functional_object_data()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, and <a class="el" href="group__Ports.html#gabcd4c57a466b82c1c4e0e2a499dd2213">port_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ga43e20503d130213a336ab78e7d64f28d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_read_xml </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(read-xml [port]) </div>
</div><!-- fragment --><p>Reads one xml node (a simple subset of xml) and returns it in the canonical form: </p>
<div class="fragment"><div class="line">&lt;tag attr1=<span class="stringliteral">&quot;v1&quot;</span> attr2=<span class="stringliteral">&quot;v2&quot;</span>&gt;hello &lt;b&gt;world&lt;/b&gt;&lt;/tag&gt;</div>
</div><!-- fragment --><p> is read in as - </p>
<div class="fragment"><div class="line">(fn (@) <span class="stringliteral">&#39;(tag ((attr1 . &quot;v1&quot;) (attr2 . &quot;v2&quot;)) &quot;hello&quot; (b () &quot;world&quot;)))</span></div>
</div><!-- fragment --><p>For constant xml expressions, the following simple rules apply -</p>
<ul>
<li>Comments are skipped,</li>
<li>processing instructions are skipped,</li>
<li>only UTF-8 is supported,</li>
<li>white space after opening tags and before closing tags are trimmed,</li>
<li>all "content" within tags are read in as strings,</li>
<li>no support for xml namespaces,</li>
<li>only reads one xml node at a time,</li>
<li>xml node name (i.e. tag) is not limited to alpha-numeric characters,</li>
<li>attr='value' and attr="value" notations are the only ones supported.</li>
<li>read-xml followed by write-xml should essentially be an identity operation,</li>
<li>if you don't give a port argument, it reads a node from the standard input.</li>
</ul>
<p>For constant xml expressions, the overhead of calling the function with nil argument is negligible since the entire constant part appears quoted.</p>
<p>For variable xml expressions, the function serves as a compiler for the xml template. The following templating facilities are available -</p>
<ul>
<li>The value part of attribute specifications, if they start with an open parenthesis '(' is taken to mean an s-expression which has to be evaluated to get the value of the attribute. The result is coerced into a string. The expression may use any standard muSE function and can refer to the context object using the symbol '@' (without the quotes). For example - <div class="fragment"><div class="line">&lt;tag attr=(format @.count)/&gt; </div>
</div><!-- fragment --> is read as the function - <div class="fragment"><div class="line">(fn (@) (list <span class="stringliteral">&#39;tag (list (cons &#39;</span>attr (format @.count))))) </div>
</div><!-- fragment --></li>
<li>An xml tag whose tag symbol starts with the '@' character such as <div class="fragment"><div class="line">&lt;@style-<span class="keywordtype">string</span> label=<span class="stringliteral">&quot;STYLENAME&quot;</span>/&gt; </div>
</div><!-- fragment --> is treated specially. The context object is queried for a function using the key such as<div class="fragment"><div class="line"><span class="stringliteral">&#39;@style-string </span></div>
</div><!-- fragment -->. That function is then applied to a list whose first argument is the context object, the second argument is an a-list giving the attributes and values and the rest of the arguments are the the tag's body. For example, the above xml expression is read in as the function - <div class="fragment"><div class="line">(fn (@) (@ <span class="stringliteral">&#39;@style-string &#39;</span>((label . <span class="stringliteral">&quot;STYLENAME&quot;</span>)))) </div>
</div><!-- fragment --></li>
</ul>
<p>Supports <a class="el" href="group__CoreLanguage.html#gafa9459789c0e0f6f8b246aee3d73a536">the</a> </p>

<p>References <a class="el" href="group__PortIO.html#ga43e20503d130213a336ab78e7d64f28d">fn_read_xml()</a>, and <a class="el" href="group__Processes__impl.html#gae1d9b98957a7cd29cb28b74deab5a41a">muse_add_recent_item()</a>.</p>

<p>Referenced by <a class="el" href="group__PortIO.html#ga43e20503d130213a336ab78e7d64f28d">fn_read_xml()</a>.</p>

</div>
</div>
<a class="anchor" id="ga19d35625cad23d5f1ccf5cfbc3fce689"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_xml </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>{xml} </p>
<p>Reads the XML expression immediately following {xml} as a value. This way you can use XML data inline in muSE code.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__PortIO.html#ga43e20503d130213a336ab78e7d64f28d">fn_read_xml</a> </dd></dl>

<p>References <a class="el" href="group__MuseAPI.html#ga8758b6cb16ed94c31d3dc906598e48bd">muse_current_port()</a>.</p>

</div>
</div>
<a class="anchor" id="gad279620db34a8d1055531730840159ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_write_json </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(write-json [port] thing) </div>
</div><!-- fragment --><p>thing is either a number, string, vector or a hashtable. Writes the object in JSON format to the given port, or to the current output port (usually stdout) if the port is omitted. </p>

<p>References <a class="el" href="group__MuseAPI.html#ga8758b6cb16ed94c31d3dc906598e48bd">muse_current_port()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, <a class="el" href="group__Processes__impl.html#ga42275893c621de9fecdddfb5ff5dcb9e">muse_pop_recent_scope()</a>, <a class="el" href="group__MuseAPI.html#ga8665ccb146ded03de15f3cdcdb241f91">muse_port()</a>, <a class="el" href="group__Processes__impl.html#ga3922df4d995479245cb2d3ee2c3b2e6e">muse_push_recent_scope()</a>, and <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a03e5f9ac0be4057bce09e211e973a498">MUSE_T</a>.</p>

</div>
</div>
<a class="anchor" id="gabf61de100e833fe76ac7029b1f6d0230"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_read_json </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(read-json [port]) </div>
</div><!-- fragment --><p>Reads and returns a JSON compatible object - which is either a number, a string, a vector or a hashtable. The values in the vectors and hashtables themselves must be JSON compatible objects.</p>
<p>If you have nested containers expressed in JSON, you can use the (get ...) function to index deeply into the structure. For example, </p>
<div class="fragment"><div class="line">&gt; (define j (read-json))</div>
<div class="line">{<span class="stringliteral">&quot;kind&quot;</span>:<span class="stringliteral">&quot;prime-numbers&quot;</span>,<span class="stringliteral">&quot;message&quot;</span>:[2,3,5,7,11,13,17]}</div>
<div class="line">{hashtable <span class="stringliteral">&#39;((message . {vector 2 3 5 7 11 13 17}) (kind . &quot;prime-numbers&quot;))}</span></div>
<div class="line"><span class="stringliteral">&gt; (get j &#39;</span>message 4)</div>
<div class="line">11</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Supports <a class="el" href="group__CoreLanguage.html#gafa9459789c0e0f6f8b246aee3d73a536">the</a> </dd></dl>

<p>References <a class="el" href="group__PortIO.html#gabf61de100e833fe76ac7029b1f6d0230">fn_read_json()</a>, <a class="el" href="group__MuseAPI.html#ga8758b6cb16ed94c31d3dc906598e48bd">muse_current_port()</a>, <a class="el" href="group__Processes__impl.html#ga42275893c621de9fecdddfb5ff5dcb9e">muse_pop_recent_scope()</a>, <a class="el" href="group__MuseAPI.html#ga8665ccb146ded03de15f3cdcdb241f91">muse_port()</a>, and <a class="el" href="group__Processes__impl.html#ga3922df4d995479245cb2d3ee2c3b2e6e">muse_push_recent_scope()</a>.</p>

<p>Referenced by <a class="el" href="group__PortIO.html#gabf61de100e833fe76ac7029b1f6d0230">fn_read_json()</a>.</p>

</div>
</div>
<a class="anchor" id="gac158bedb62deba8a09edfa61937fb246"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_json </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>{json} </p>
<p>Switches the reader temporarily to the JSON reader so that the next expression is treated as a JSON object. After one JSON item is read in, it returns the reader to the original Scheme reader. So you can use {json} and then follow with an inline definition of a complex nested data structure you need as a value in Scheme.</p>
<p>The difference between <a class="el" href="group__PortIO.html#gabf61de100e833fe76ac7029b1f6d0230">(read-json)</a> and {json} is that (read-json) reads a constant JSON expression which is therefore useful to parse query results from servers. OTOH, {json} treats the following JSON expression as a template from which it synthesizes a muSE expression which <em>when evaluated</em> will yield the JSON object. This means you can use {json} within function bodies as well. When using {json}, you can insert arbitrary muSE expressions in the value positions of objects and arrays. The JSON keywords 'true' and 'false' will end up as quoted symbols and the keyword 'null' will end up being translated as (). Other than that, value positions can use full Scheme expressions. Here is an example - </p>
<div class="fragment"><div class="line">&gt;  (define (info name)</div>
<div class="line">     {json}</div>
<div class="line">     { <span class="stringliteral">&quot;name&quot;</span> : name,</div>
<div class="line">       <span class="stringliteral">&quot;kind&quot;</span> : <span class="stringliteral">&quot;nice guy&quot;</span>,</div>
<div class="line">       <span class="stringliteral">&quot;email&quot;</span> : (format name <span class="stringliteral">&quot;@muvee.com&quot;</span>),</div>
<div class="line">       <span class="stringliteral">&quot;age&quot;</span>  : [94] } )</div>
</div><!-- fragment --><p> The onus is on the coder to make sure that muSE sub-expressions evaluate to valid JSON objects. Otherwise it will not be possible to write the object using write-json.</p>
<p>Note that if any part of the object expression doesn't contain variables or muSE sub-expressions, then it is treated as a constant and pre-evaluated at read-time so that it won't have to be evaluated repeatedly. This also means that constant parts of a JSON object will end up being shared with other JSON objects. You need to be aware of this only if you want to modify the JSON objects you create.</p>
<dl class="section note"><dt>Note</dt><dd>Supports <a class="el" href="group__CoreLanguage.html#gafa9459789c0e0f6f8b246aee3d73a536">the</a> </dd></dl>

<p>References <a class="el" href="group__PortIO.html#gac158bedb62deba8a09edfa61937fb246">fn_json()</a>, <a class="el" href="group__MuseAPI.html#ga8758b6cb16ed94c31d3dc906598e48bd">muse_current_port()</a>, <a class="el" href="group__Processes__impl.html#ga42275893c621de9fecdddfb5ff5dcb9e">muse_pop_recent_scope()</a>, and <a class="el" href="group__Processes__impl.html#ga3922df4d995479245cb2d3ee2c3b2e6e">muse_push_recent_scope()</a>.</p>

<p>Referenced by <a class="el" href="group__PortIO.html#gac158bedb62deba8a09edfa61937fb246">fn_json()</a>.</p>

</div>
</div>
<a class="anchor" id="ga46ae5db00ade2045962984a4ae66a639"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_exit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(exit) </div>
</div><!-- fragment --><p> Exits the process. </p>

<p>References <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jan 11 2013 12:31:06 for muSE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3
</small></address>
</body>
</html>
