<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3"/>
<title>muSE: muse_builtin_networking.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">muSE
   &#160;<span id="projectnumber">r771</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">muse_builtin_networking.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="muse__opcodes_8h_source.html">muse_opcodes.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="muse__port_8h_source.html">muse_port.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="muse__utils_8h_source.html">muse_utils.h</a>&quot;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;signal.h&gt;</code><br/>
<code>#include &lt;sys/socket.h&gt;</code><br/>
<code>#include &lt;sys/ioctl.h&gt;</code><br/>
<code>#include &lt;netdb.h&gt;</code><br/>
<code>#include &lt;netinet/in.h&gt;</code><br/>
<code>#include &lt;arpa/inet.h&gt;</code><br/>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for muse_builtin_networking.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="muse__builtin__networking_8c__incl.png" border="0" usemap="#muse__builtin__networking_8c" alt=""/></div>
<map name="muse__builtin__networking_8c" id="muse__builtin__networking_8c">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9fdd068b1e6f0803ed88693361efc4b5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9fdd068b1e6f0803ed88693361efc4b5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="muse__builtin__networking_8c.html#a9fdd068b1e6f0803ed88693361efc4b5">MUSE_SO_REUSE</a>&#160;&#160;&#160;SO_REUSEADDR</td></tr>
<tr class="memdesc:a9fdd068b1e6f0803ed88693361efc4b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">On *BSD (including MacosX), it looks like we have to use SO_REUSEPORT instead of SO_REUSEADDR to achieve the same effect. <br/></td></tr>
<tr class="separator:a9fdd068b1e6f0803ed88693361efc4b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2e0e2d8f8334748c3ba90b87640a1dd7"><td class="memItemLeft" align="right" valign="top">muse_boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Networking.html#ga2e0e2d8f8334748c3ba90b87640a1dd7">muse_network_startup</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env)</td></tr>
<tr class="memdesc:ga2e0e2d8f8334748c3ba90b87640a1dd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">In the POSIX version, we initially setup to block the SIGPIPE signal.  <a href="group__Networking.html#ga2e0e2d8f8334748c3ba90b87640a1dd7"></a><br/></td></tr>
<tr class="separator:ga2e0e2d8f8334748c3ba90b87640a1dd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68e397b2b7a1a5644aef6503af956f2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Networking.html#ga68e397b2b7a1a5644aef6503af956f2b">fn_wait_for_input</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga68e397b2b7a1a5644aef6503af956f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c580aa35c07d7e2257e8e1d75175eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="muse__builtin__networking_8c.html#a95c580aa35c07d7e2257e8e1d75175eb">fn_fetch_uri</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:a95c580aa35c07d7e2257e8e1d75175eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Usage: (fetch-uri uri ['refresh] [headers])  <a href="#a95c580aa35c07d7e2257e8e1d75175eb"></a><br/></td></tr>
<tr class="separator:a95c580aa35c07d7e2257e8e1d75175eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b9122035311cc733360cb5b98f036c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="muse__builtin__networking_8c.html#a07b9122035311cc733360cb5b98f036c">fn_symbol</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:a07b9122035311cc733360cb5b98f036c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2725eb436d1f7e4caa0303d6755c01a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="muse__builtin__networking_8c.html#a2725eb436d1f7e4caa0303d6755c01a7">fn_http_parse</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:a2725eb436d1f7e4caa0303d6755c01a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12401ed8c0996030be47c10fbe72dbb3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="muse__builtin__networking_8c.html#a12401ed8c0996030be47c10fbe72dbb3">fn_http_respond</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:a12401ed8c0996030be47c10fbe72dbb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Misc</div></td></tr>
<tr class="memitem:af9f0acebe3b731d4b0aebf817c49bfd8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="muse__builtin__networking_8c.html#af9f0acebe3b731d4b0aebf817c49bfd8">fn_format</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:af9f0acebe3b731d4b0aebf817c49bfd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Point to point communication</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp6f4a5ab88db3a3db513c1c4674f615f0"></a>Made possible through the functions</p>
<ul>
<li><a class="el" href="group__Networking.html#gaa197619db799548e858f404af08479bf">with-incoming-connections-to-port</a> and</li>
<li>open </li>
</ul>
</td></tr>
<tr class="memitem:a300190ed3440e51a1cf838ef944b3ec3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a300190ed3440e51a1cf838ef944b3ec3"></a>
typedef struct <br class="typebreak"/>
muse_server_stream_socket__&#160;</td><td class="memItemRight" valign="bottom"><b>muse_server_stream_socket_t</b></td></tr>
<tr class="separator:a300190ed3440e51a1cf838ef944b3ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2910c34c20880bba2de676d0fb336d4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Networking.html#ga2910c34c20880bba2de676d0fb336d4c">fn_open_connection</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga2910c34c20880bba2de676d0fb336d4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa197619db799548e858f404af08479bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Networking.html#gaa197619db799548e858f404af08479bf">fn_with_incoming_connections_to_port</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gaa197619db799548e858f404af08479bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Multicast messaging</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpff82804cf6f03a67390303d362134c44"></a>A simple multicast mechanism is implemented using UDP datagrams.</p>
<p>You join a multicast group by creating a muSE port using the function <a class="el" href="group__Networking.html#gadc1362ee9856466bdaa287712f221578">multicast-group</a>. Once the join succeeds, you can broadcast a message to the group and can receive broadcast messages from any member of the group using the standard <a class="el" href="group__PortIO.html#ga21e62bebf5c63eb51fabfb4121e772b2">read</a> and <a class="el" href="group__PortIO.html#gadc99cf562f996e26e47d055b5c456222">write</a> functions.</p>
<p>Immediately after a read, information about the sender is stored internally and you can reply to the sender alone by using the <a class="el" href="group__Networking.html#ga5968a701526fe7bc85ffc54a741f3fa3">reply</a> function. <a class="el" href="group__Networking.html#ga5968a701526fe7bc85ffc54a741f3fa3">reply</a> works only with multicast group ports. It is a programming error to use it with other ports.</p>
<p>You can use the <a class="el" href="group__Networking.html#ga68e397b2b7a1a5644aef6503af956f2b">wait-for-input</a> function to wait for a message from a multicast group as well. </p>
</td></tr>
<tr class="memitem:gadc1362ee9856466bdaa287712f221578"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Networking.html#gadc1362ee9856466bdaa287712f221578">fn_multicast_group</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gadc1362ee9856466bdaa287712f221578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5968a701526fe7bc85ffc54a741f3fa3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Networking.html#ga5968a701526fe7bc85ffc54a741f3fa3">fn_reply</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga5968a701526fe7bc85ffc54a741f3fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga156ae7dba99330624ff4aa419b9a4d5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Networking.html#ga156ae7dba99330624ff4aa419b9a4d5e">fn_multicast_group_p</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga156ae7dba99330624ff4aa419b9a4d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Srikumar K. S. (<a href="#" onclick="location.href='mai'+'lto:'+'kum'+'ar'+'@mu'+'ve'+'e.c'+'om'; return false;">kumar<span style="display: none;">.nosp@m.</span>@muv<span style="display: none;">.nosp@m.</span>ee.co<span style="display: none;">.nosp@m.</span>m</a>)</dd></dl>
<p>Copyright (c) 2006 Jointly owned by Srikumar K. S. and muvee Technologies Pte. Ltd.</p>
<p>All rights reserved. See LICENSE.txt distributed with this source code or <a href="http://muvee-symbolic-expressions.googlecode.com/svn/trunk/LICENSE.txt">http://muvee-symbolic-expressions.googlecode.com/svn/trunk/LICENSE.txt</a> for terms and conditions under which this software is provided to you. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a95c580aa35c07d7e2257e8e1d75175eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_fetch_uri </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Usage: (fetch-uri uri ['refresh] [headers]) </p>
<p>Evaluates to the cached local file path for the uri. If 'refresh is passed, then it downloads the uri again if it is out of date, even if it is already in the cache. <code>headers</code> is a list of strings, each expected to contain one line of the extra HTTP header to be passed to the request. The header strings should not end with CRLF.</p>
<p>muSE exceptions:</p>
<p>'fetch-uri:network-error uri Indicates a fundamental problem with connecting to the net. Allows you to replace the uri with a default file path.</p>
<p>'fetch-uri:bad-resource uri Indicates that the uri is either badly formatted or is referring to an invalid resource. In this case, you can continue by replacing the uri with either a file or a default uri that's known to work.</p>
<p>'fetch-uri:unsupported uri Indicates that the uri is not a http uri or of a type that can't be supported. In this case, you are allowed to replace the uri with a file.</p>
<p>'fetch-uri:cache-failure uri Indicates a problem downloading the uri and storing it in the system cache. In this case, you're allowed to replace it with a file.</p>
<dl class="section note"><dt>Note</dt><dd>Supports <a class="el" href="group__CoreLanguage.html#gafa9459789c0e0f6f8b246aee3d73a536">the</a> </dd></dl>

<p>References <a class="el" href="group__Processes__impl.html#gae1d9b98957a7cd29cb28b74deab5a41a">muse_add_recent_item()</a>, <a class="el" href="group__MuseAPI.html#ga208ba9f2b62846a2c757bc9312fb0034">muse_cell_type()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727a1f9900717ca0e77e7b094a23939841d0">MUSE_CONS_CELL</a>, <a class="el" href="group__MuseAPI.html#ga585a3813cb412ed58ef5caa4fb02b074">muse_csymbol()</a>, <a class="el" href="group__MuseAPI.html#ga5f86b9b57307e2ed14007b86084770e5">muse_evalnext()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, <a class="el" href="group__MuseAPI.html#ga16eb6fecef6e1e55330539875ee5d40a">muse_raise_error()</a>, <a class="el" href="group__MuseAPI.html#ga4dda176ab85b334105f47051a134587b">muse_trace_pop()</a>, <a class="el" href="group__MuseAPI.html#ga297f0871cba0882ffa88a1aefad20016">muse_trace_push()</a>, and <a class="el" href="group__MuseAPI.html#gade523dbd5ea9a62950c4a3f8dd2d58c1">muse_try()</a>.</p>

</div>
</div>
<a class="anchor" id="a07b9122035311cc733360cb5b98f036c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_symbol </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(symbol <span class="stringliteral">&quot;symbol-name&quot;</span>) </div>
</div><!-- fragment --><p> Interns the symbol of the given textual name and returns a unique symbol cell. </p>

</div>
</div>
<a class="anchor" id="a2725eb436d1f7e4caa0303d6755c01a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_http_parse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(http-parse port) -&gt; ((<span class="stringliteral">&#39;GET url &quot;HTTP/1.1&quot;) (&#39;</span>Header1 <span class="stringliteral">&quot;value1&quot;</span>) (<span class="stringliteral">&#39;Header2 &quot;value2&quot;) ...) </span></div>
</div><!-- fragment --> <div class="fragment"><div class="line">(http-parse port) -&gt; ((<span class="stringliteral">&#39;POST url &quot;HTTP/1.1&quot;) (&#39;</span>Header1 <span class="stringliteral">&quot;value1&quot;</span>) (<span class="stringliteral">&#39;Header2 &quot;value2&quot;) ...) </span></div>
</div><!-- fragment --><p>Parses the series of http headers from the given port (can be any port) and returns an association list as shown above.</p>
<p>Supports <a class="el" href="group__CoreLanguage.html#gafa9459789c0e0f6f8b246aee3d73a536">the</a>. </p>

<p>References <a class="el" href="group__Processes__impl.html#gae1d9b98957a7cd29cb28b74deab5a41a">muse_add_recent_item()</a>.</p>

</div>
</div>
<a class="anchor" id="af9f0acebe3b731d4b0aebf817c49bfd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_format </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(format ...args...) </div>
</div><!-- fragment --><p> Converts each arg to a string, concatenates all the strings and returns the result as a single string. Things that support the 'frmt' view such as <a class="el" href="group__ByteArray.html#ga91af9038defaaf6c5b9b8268c6240f4a">bytes?</a> and <a class="el" href="group__ObjectSystem.html#ga9b1ae332720ea6da76c1ef41ee298da0">object?</a> convert themselves to strings.</p>
<p>Objects, in particular, get their "as-string" methods invoked to get a string representation. The "as-string" can also be a field. If it isn't a method, its value is used as the string representation of the object. In particular, the "as-string" implementation can return or be any object which can be converted to a string, such as int, float or even another object.</p>
<p>For example - </p>
<div class="fragment"><div class="line">&gt; (define ex </div>
<div class="line">    (<span class="keywordtype">object</span> ()</div>
<div class="line">      <span class="stringliteral">&#39;name     &quot;telepathic-robot&quot;</span></div>
<div class="line"><span class="stringliteral">      &#39;</span><span class="keywordtype">id</span>       3</div>
<div class="line">      <span class="stringliteral">&#39;as-string (fn (self) (format self.name &quot;-&quot; self.id))))</span></div>
<div class="line"><span class="stringliteral">&gt; (format &quot;object=&quot; ex)</span></div>
<div class="line"><span class="stringliteral">object=telepathic-robot-3</span></div>
</div><!-- fragment --> 
<p>Referenced by <a class="el" href="muse__builtins_8h.html#a6da317423d02e0250780e9910959781b">fn_alert()</a>, <a class="el" href="group__TypeCasting.html#gaf9f0acebe3b731d4b0aebf817c49bfd8">fn_format()</a>, <a class="el" href="muse__builtin__networking_8c.html#a12401ed8c0996030be47c10fbe72dbb3">fn_http_respond()</a>, <a class="el" href="group__TypeCasting.html#ga95135022e1b9a4d414a385e710ba6d94">fn_string()</a>, and <a class="el" href="muse__builtins_8h.html#a55c5d41ac920bda1ecb9f047771af921">fn_system()</a>.</p>

</div>
</div>
<a class="anchor" id="a12401ed8c0996030be47c10fbe72dbb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_http_respond </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(http-respond port code headers-alist crlf?) </div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The port to which to write out the headers. </td></tr>
    <tr><td class="paramname">code</td><td>A numeric response code such as 200. Pass 0 to skip the response line. </td></tr>
    <tr><td class="paramname">headers-alist</td><td>An a-list such as<div class="fragment"><div class="line"><span class="stringliteral">&#39;((Content-Type . &quot;text/html&quot;)) </span></div>
</div><!-- fragment --> </td></tr>
    <tr><td class="paramname">crlf?</td><td>Pass <code>T</code> if you want a blank line to terminate the list of headers. If you pass <code></code>(), you can make another call to <code>http-respond</code> to write out some more headers.</td></tr>
  </table>
  </dd>
</dl>
<p>Supports <a class="el" href="group__CoreLanguage.html#gafa9459789c0e0f6f8b246aee3d73a536">the</a> </p>

<p>References <a class="el" href="muse__builtin__networking_8c.html#af9f0acebe3b731d4b0aebf817c49bfd8">fn_format()</a>, <a class="el" href="group__MuseAPI.html#ga494e2293f0c5fb24a10998d923bc4885">muse_int_value()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, <a class="el" href="group__MuseAPI.html#ga8665ccb146ded03de15f3cdcdb241f91">muse_port()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727aac36b25578762b2a3304acfafa7a74bf">MUSE_SYMBOL_CELL</a>, <a class="el" href="group__MuseAPI.html#gad2be4946f70dd602db41dea4e87f7e87">muse_symbol_name()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727a13f23f3e957dcb9731ca0744354ee6b9">MUSE_TEXT_CELL</a>, <a class="el" href="group__MuseAPI.html#gad343b2db1bbba0f95f875e2c3986afd9">muse_text_contents()</a>, <a class="el" href="group__Ports.html#ga227eaea79866dd5b6906528c69c93787">port_putc()</a>, and <a class="el" href="group__Ports.html#gabcd4c57a466b82c1c4e0e2a499dd2213">port_write()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jan 11 2013 12:31:05 for muSE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3
</small></address>
</body>
</html>
